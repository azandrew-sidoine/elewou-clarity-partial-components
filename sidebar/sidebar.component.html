<clr-vertical-nav
  [clrVerticalNavCollapsible]="true"
  class="nav-trigger--bottom"
  [clr-nav-level]="1"
>
  <ng-container *ngIf="state$ | async as vm">
    <ng-container *ngFor="let key of vm?.routeLinks.keys()">
      <ng-container
        *ngIf="typeHelper.isDefined(vm?.routeLinks.get(key)?.children)"
      >
        <clr-vertical-nav-group routerLinkActive="active">
          <clr-icon
            *ngIf="vm?.routeLinks.get(key)?.routeIcon"
            [attr.shape]="vm?.routeLinks.get(key)?.routeIcon"
            clrVerticalNavIcon
          ></clr-icon>
          {{ vm?.routeLinks.get(key)?.routeDescription }}
          <clr-vertical-nav-group-children>
            <ng-container
              *ngFor="let child of vm?.routeLinks.get(key)?.children"
            >
              <a
                clrVerticalNavLink
                [routerLink]="child?.routePath"
                routerLinkActive="active"
              >
                <clr-icon
                  *ngIf="child?.routeIcon"
                  [attr.shape]="child?.routeIcon"
                  clrVerticalNavIcon
                ></clr-icon>
                {{ child.routeDescription }}
              </a>
            </ng-container>
          </clr-vertical-nav-group-children>
        </clr-vertical-nav-group>
      </ng-container>
      <ng-container
        *ngIf="!typeHelper.isDefined(vm?.routeLinks.get(key)?.children)"
      >
        <a
          clrVerticalNavLink
          routerLinkActive="active"
          [routerLink]="vm?.routeLinks.get(key)?.routePath"
        >
          <clr-icon
            *ngIf="vm?.routeLinks.get(key)?.routeIcon"
            [attr.shape]="vm?.routeLinks.get(key)?.routeIcon"
            clrVerticalNavIcon
          ></clr-icon>
          {{ vm?.routeLinks.get(key)?.routeDescription }}
        </a>
      </ng-container>
    </ng-container>
  </ng-container>
</clr-vertical-nav>
